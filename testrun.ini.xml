<?xml version="1.0"?>
<!--
Chroma `hmc` input file. It is based on [Carsten's `hmc`
tutorial](http://people.physik.hu-berlin.de/~urbach/lap08/hmc/one.html).
-->
<Params> 
  <MCControl>

    <Cfg>
        <!-- TODO What type of configuration do we want to start with, `UNIT`
             (cold) or `DISORDERED` (hot) or `WEAK_FIELD` (no idea) perhaps? -->
      <cfg_type>UNIT</cfg_type>
      <cfg_file>DUMMY</cfg_file>
    </Cfg>

    <RNG>
      <Seed>	
        <!-- TODO Do we want any special seeds here? -->
        <elem>11</elem>
        <elem>0 </elem>
        <elem>0 </elem>
        <elem>0 </elem>
      </Seed>
    </RNG>

    <!-- TODO How man trajectories do we want? -->
    <StartUpdateNum>0</StartUpdateNum>
    <NWarmUpUpdates>0</NWarmUpUpdates>  
    <NProductionUpdates>40</NProductionUpdates>
    <NUpdatesThisRun>40</NUpdatesThisRun>
    <SaveInterval>10</SaveInterval>

    <!-- This probably generates a single LIME file for everything. -->
    <SavePrefix>testrun</SavePrefix>
    <SaveVolfmt>SINGLEFILE</SaveVolfmt>

    <!-- TODO Do we want such an inline measurement? In the tutorial this is
         used to show the thermalization from the cold and hot start. -->
    <InlineMeasurements>
      <elem>
        <Name>POLYAKOV_LOOP</Name>
        <Frequency>1</Frequency>
        <Param>
          <version>2</version>
        </Param>
        <NamedObject>
          <gauge_id>default_gauge_field</gauge_id>
        </NamedObject>
      </elem>
    </InlineMeasurements>
  </MCControl>

  <HMCTrj>
    <Monomials>
      <elem>
	<Name>TWO_FLAVOR_EOPREC_CONSTDET_FERM_MONOMIAL</Name>
	<InvertParam>
          <!-- TODO The only ones with `MULTIGRID` in their name seem to be the
               `QOP_CLOVER_MULTIGRID_INVERTER` and the various `QUDA` ones. -->
          <invType>CG_INVERTER</invType>
          <RsdCG>1.0e-12</RsdCG>
          <MaxCG>1000</MaxCG>
        </InvertParam>
        <FermionAction>
          <FermAct>WILSON</FermAct>
	  <Kappa>0.11</Kappa>
          <FermionBC>
            <FermBC>SIMPLE_FERMBC</FermBC>
            <boundary>1 1 1 -1</boundary>
          </FermionBC>
        </FermionAction>
        <ChronologicalPredictor>
	   <Name>LAST_SOLUTION_4D_PREDICTOR</Name>
        </ChronologicalPredictor>
	<NamedObject>
	  <monomial_id>wilson_two_flav</monomial_id>
	</NamedObject>
      </elem>

      <!-- The gauge action should be just fine, the Î² is set to the value from
           the paper. -->
      <elem>
	<Name>GAUGE_MONOMIAL</Name>
	<GaugeAction>
	   <Name>WILSON_GAUGEACT</Name>
	   <beta>3.3</beta>
	   <GaugeBC>
		<Name>PERIODIC_GAUGEBC</Name>
           </GaugeBC>
        </GaugeAction>
	<NamedObject>
	  <monomial_id>gauge</monomial_id>
        </NamedObject>
      </elem>
   </Monomials>

   
   <Hamiltonian>
      <monomial_ids>
        <elem>wilson_two_flav</elem>
        <elem>gauge</elem>
      </monomial_ids>
   </Hamiltonian>
  
   <MDIntegrator>
        <tau0>0.5</tau0>
	<Integrator>	
	  <Name>LCM_STS_LEAPFROG</Name>
	  <n_steps>25</n_steps>
	  <monomial_ids>
	    <elem>wilson_two_flav</elem>
	    <elem>gauge</elem>
	  </monomial_ids>
	</Integrator>
   </MDIntegrator>
   <!-- TODO Check that the time really goes last and not first. -->
   <nrow>24 24 24 64</nrow>
 </HMCTrj>

</Params>

<!-- vim: set sw=2 et : -->
